<div class="change-detection-log" appChangeDetectionLogger component="user-list-item"></div>
<div class="user-wrapper" (click)="toggle()">
    <div class="user-data text-secondary">
        <img class="user-data-image" [src]="user.image">
        <span class="text ellipsis user-data-item">{{ user.id }}</span>
        <span class="text ellipsis user-data-item">{{ user.firstName }}</span>
        <span class="text ellipsis user-data-item">{{ user.lastName }}</span>
        <span class="text ellipsis user-data-item">{{ user.lastUpdated }}</span>
    </div>
    <div class="user-actions">
        <span class="text text-primary" (click)="refresh($event)">Refresh</span>
        <span class="text text-primary" (click)="delete($event)">Delete</span>
    </div>
</div>
<div *rxLet="toggled$; let toggled; parent: false; patchZone: false;" [ngStyle]="{display: toggled ? 'block' : 'none'}">
    <ng-container *rxLet="tab$; let tab; parent: false; patchZone: false;">
        <div class="tabs">
            <span class="tab text" [class.active]="tab === 'details'" (click)="switchTab('details')">Details</span>
            <span class="tab text" [class.active]="tab === 'todos'" (click)="switchTab('todos')">Todos</span>
            <span class="tab text" [class.active]="tab === 'posts'" (click)="switchTab('posts')">Posts</span>
        </div>
        <div>
            <app-user-details [ngStyle]="{display: tab === 'details' ? 'block': 'none'}" [user]="user"></app-user-details>
            <app-todo-list [ngStyle]="{display: tab === 'todos' ? 'block': 'none'}" [user]="user"></app-todo-list>
            <app-post-list [ngStyle]="{display: tab === 'posts' ? 'block': 'none'}" [user]="user"></app-post-list>
        </div>
    </ng-container>
</div>
